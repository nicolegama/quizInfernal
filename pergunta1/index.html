<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Tema da festa (Pergunta 1) - Quizz Infernal</title>

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">

		<link rel="stylesheet" href="../global.css">
		<link rel="stylesheet" href="question.css">
		<link rel="stylesheet" href="notifications.css">
	</head>
	<body>
		<header class="header">
			<div class="header-content">
				<div class="header-title">
					<h1>Quizz Infernal</h1>
					<img src="../assets/fire.png" alt="Ícone de Fogo" class="fire-icon">
				</div>
				<button class="menu-toggle" id="menuToggle" aria-label="Menu">☰</button>
				<nav class="header-nav" id="headerNav">
					<a href="../index.html" class="nav-link">Início</a>
					<a href="../about.html" class="nav-link">About</a>
				</nav>
			</div>
		</header>

		<nav class="nav nav-left">
			<div class="ad ad-template1">
				<img src="../assets/add/add1.png" alt="Anúncio">
				<p>Descubra algo incrível!</p>
			</div>
			<div class="ad ad-template2">
				<img src="../assets/add/add2.png" alt="Anúncio">
				<p>Oferta especial para você</p>
			</div>
			<div class="ad ad-template3">
				<img src="../assets/add/add3.png" alt="Anúncio">
				<p>Não perca esta oportunidade</p>
			</div>
		</nav>

		<main class="main">
			<form>
				<fieldset>
					<legend>Escolha um tema de festa</legend>

					<div class="options">
						<div class="option">
							<input id="theme-spider" type="radio" name="theme" value="homem-aranha">
							<div class="option-image">
								<picture>
									<img src="../assets/question1/miranha.png" alt="Festa temática do Homem-aranha">
								</picture>
							</div>
							<label class="option-label" for="theme-spider">
								Homem-aranha
							</label>
						</div>

						<div class="option">
							<input id="theme-barbie" type="radio" name="theme" value="barbie">
							<div class="option-image">
								<picture>
									<img src="../assets/question1/barbie.png" alt="Festa temática da Barbie">
								</picture>
							</div>
							<label class="option-label" for="theme-barbie">
								Barbie
							</label>
						</div>

						<div class="option">
							<input id="theme-shark" type="radio" name="theme" value="baby-shark">
							<div class="option-image">
								<picture>
									<img src="../assets/question1/baby-shark.png" alt="Festa temática do Baby Shark">
								</picture>
							</div>
							<label class="option-label" for="theme-shark">
								Baby Shark
							</label>
						</div>

						<div class="option">
							<input id="theme-circus" type="radio" name="theme" value="circo">
							<div class="option-image">
								<picture>
									<img src="../assets/question1/circo.png" alt="Festa temática de circo">
								</picture>
							</div>
							<label class="option-label" for="theme-circus">
								Circo
							</label>
						</div>
					</div>
				</fieldset>
			</form>

			<a href="../pergunta2/index.html" class="next-question-link">Próxima pergunta</a>
		</main>

		<ul class="notifications">
		</ul>

		<dialog id="feedback-popup">
			<div class="dialog-content">
				<h2>Você está gostando do quiz???</h2>
				<div class="buttons">
					<button type="button">Sim</button>
					<button type="button">Não</button>
				</div>
			</div>
		</dialog>

		<dialog id="rating-popup">
			<div class="dialog-content">
				<h2>Avalie com <span>5 estrelas</span>
					para continuar</h2>
				<div class="buttons stars">
					<button type="button"><svg alt="Uma estrela"><use href="#icon-star"/></svg></button>
					<button type="button"><svg alt="Duas estrelas"><use href="#icon-star"/></svg></button>
					<button type="button"><svg alt="Três estrelas"><use href="#icon-star"/></svg></button>
					<button type="button"><svg alt="Quatro estrelas"><use href="#icon-star"/></svg></button>
					<button type="button"><svg alt="Cinco estrelas"><use href="#icon-star"/></svg></button>
				</div>
			</div>
		</dialog>

		<nav class="nav nav-right">
			<div class="ad ad-template4">
				<img src="../assets/add/add4.png" alt="Anúncio">
				<p>Aproveite agora!</p>
			</div>
			<div class="ad ad-template1">
				<img src="../assets/add/add1.png" alt="Anúncio">
				<p>Descubra algo incrível!</p>
			</div>
		</nav>

		<footer class="footer">
			<div class="footer-content">
				<div class="footer-section">
					<h3>Sobre</h3>
					<a href="about.html">Quem Somos</a>
				</div>
				<div class="footer-section">
					<h3>Links Úteis</h3>
					<a href="#">UTFPR</a>
				</div>
				<div class="footer-section">
					<h3>Redes Sociais</h3>
					<a href="#">Facebook</a>
					<a href="#">Twitter</a>
					<a href="#">Instagram</a>
				</div>
			</div>
			<div class="footer-bottom">
				<p>&copy; 2025 Quizz Infernal.</p>
			</div>
		</footer>

		<script src="script.js"></script>

		<script type="module">
			const { fakerPT_BR: faker } = await import('https://esm.sh/@faker-js/faker');
			
			const MIN_INTERVAL_MS = 500;
			const MAX_INTERVAL_MS = 6 * 1000;
			
			createNotificationsRandomly();
			
			function getNextInterval() {
				return Math.max(MIN_INTERVAL_MS, Math.random() * MAX_INTERVAL_MS);
			}
			
			function createNotificationsRandomly() {
				createNotification();
				setTimeout(createNotificationsRandomly, getNextInterval());
			}
			
			function createNotification() {
				const randomAvatar = faker.image.avatar();
				const randomName = faker.person.firstName();
				
				const notification = document.createElement('article');
				notification.classList.add('notification');
				
				const notificationsContainer = document.querySelector('ul.notifications');
				const listItem = document.createElement('li');
				listItem.append(notification);
				notificationsContainer.append(listItem);
				
				const imageContainer = document.createElement('div');
				notification.append(imageContainer);
				
				const image = document.createElement('img');
				imageContainer.append(image);
				image.src = randomAvatar;
				
				const textContainer = document.createElement('div');
				notification.append(textContainer);
				textContainer.classList.add('text-container');
				
				const text = document.createElement('p');
				textContainer.append(text);
				
				const nameSpan = document.createElement('span');
				nameSpan.classList.add('name');
				nameSpan.textContent = randomName;
				text.append(nameSpan);
				
				const contentSpan = document.createElement('span');
				contentSpan.textContent = getNotificationText();
				text.append(contentSpan);
				
				setTimeout(() => {
					notification.classList.add('slide-out');
					notification.classList.add('exiting');
					
					notification.addEventListener('animationend', () => {
						listItem.remove();
						});
						}, 5 * 1000);
					}
					
					function getNotificationText() {
						const common = [
						'uma coxinha!',
						'um quibe!',
						'uma empadinha!',
						'uma coxinha sem recheio :(',
						'uma empadinha seca :(',
						'uma bolinha de queijo!',
						'um pastelzinho!',
						'uma esfirra!',
						];
						
						const rare = [
						'resolveu o aquecimento global!',
						'foi recrutado pela NASA!',
						'ganhou um Nobel!',
						'TRANSCENDEU!',
						];
						
						const base = ' completou o quiz e ';
						
						const isRare = Math.random() < 0.15;
						
						if (isRare) {
							return base + rare[Math.floor(Math.random() * rare.length)];
						}
						
						return (
						base +
						'descobriu que é ' +
						common[Math.floor(Math.random() * common.length)]
						);
					}
		</script>

		<!-- SVGs -->
		<svg style="display: none;">
			<symbol id="icon-star"
			        viewBox="0 0 24 24"
			        stroke="currentColor"
			        stroke-width="2"
			        stroke-linecap="round"
			        stroke-linejoin="round"
			>
				<path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"/>
			</symbol>
		</svg>
	</body>
</html>
